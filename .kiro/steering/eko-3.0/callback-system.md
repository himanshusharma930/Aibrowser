---
created: 2025-11-11T10:06:56 (UTC +05:30)
tags: []
source: https://fellou.ai/eko/docs/architecture/callback-system/
author: 
---

# Callback System | Eko Docs

> ## Excerpt
> Eko's callback system enables programmatic inspection and control of workflow execution, allowing developers to monitor, modify, and intervene in the automation process at multiple levels of granularity.

---
## Understanding Callbacks in Eko

When developing AI-driven automation systems, developers face a key challenge: ensuring efficiency while maintaining transparency and control. Eko’s hooks address this by bridging the gap between AI automation and human oversight. They act as strategic checkpoints in the workflow, allowing developers to:

-   Monitor AI’s decision-making process.
-   Collect metrics about the automation’s performance.

With a special callbacks - _hooks_, developers can even:

-   Validate or modify inputs before they’re processed.
-   Adjust outputs before they’re used.
-   Intervene when necessary while letting automation handle the routine work.

Callbacks in Eko are essential for maintaining system observability, controllability, and reliability, ensuring efficient, transparent, and secure operations.

## Callback Domains

Eko’s callback system is divided into two main domains:

1.  **Stream Callback**: used for monitoring, logging, and UI updates.
2.  **Human Callbacks**: pause and request user input or confirmation.

```
<div bis_skin_checked="1"><p><span>import</span><span> { Eko, LLMs, StreamCallbackMessage } </span><span>from</span><span> </span><span>"</span><span>@eko-ai/eko</span><span>"</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>import</span><span> { StreamCallback, HumanCallback } </span><span>from</span><span> </span><span>"</span><span>@eko-ai/eko/types</span><span>"</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>let </span><span>callback</span><span>:</span><span> </span><span>StreamCallback</span><span> </span><span>&amp;</span><span> </span><span>HumanCallback</span><span> = {</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>onMessage</span><span>: async </span><span>(</span><span>message</span><span>:</span><span> </span><span><span>StreamCallbackMessage</span><span>)</span></span><span> =&gt; {</span></p></div><div bis_skin_checked="1"><p><span>    </span><span>/* monitor model realtime event and tool using params, modify tool result*/</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>onHumanConfirm</span><span>: async </span><span>(</span><span>context</span><span>, </span><span>prompt</span><span>)</span><span> =&gt; {</span></p></div><div bis_skin_checked="1"><p><span>    </span><span>/* showing prompt to user, user will confirm it or refuse it*/</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>return </span><span>/* ture if confirmed, false if refused*/</span><span>;</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span>}</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>let </span><span>eko</span><span> = </span><span>new</span><span> </span><span>Eko</span><span>(</span><span>{ </span><span>llms</span><span>, </span><span>agents</span><span>, </span><span>callback</span><span> }</span><span>);</span></p></div>
```

### Stream Callback

Stream callbacks provide real-time, updates about workflow execution. They are used for monitoring, logging, and UI updates.

**Available stream callbacks (`StreamCallbackMessage` types and timing):**

-   `workflow`: Emitted when a workflow is generating or updating.
-   `text`: Emitted for streaming text output from the agent or LLM.
-   `thinking`: Emitted for streaming intermediate reasoning or thoughts.
-   `tool_streaming`: Emitted for streaming tool call.
-   `tool_use`: Emitted before a tool is executed, includes tool name and parameters.
-   `tool_running`: Emitted while a tool is running, shows details about tool running.
-   `tool_result`: Emitted after a tool finishes execution, includes the result.
-   `file`: Emitted when a file is produced as output.
-   `error`: Emitted when an error occurs during execution.
-   `finish`: Emitted when the workflow or node execution is finished.

See [`StreamCallback`](https://fellou.ai/eko/docs/api/interfaces/StreamCallback.html) and [`StreamCallbackMessage`](https://fellou.ai/eko/docs/api/types/StreamCallbackMessage.html) for the full type definition.

#### Usage

```
<div bis_skin_checked="1"><p><span>import</span><span> { Eko, LLMs, StreamCallbackMessage } </span><span>from</span><span> </span><span>"</span><span>@eko-ai/eko</span><span>"</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>import</span><span> { StreamCallback, HumanCallback } </span><span>from</span><span> </span><span>"</span><span>@eko-ai/eko/types</span><span>"</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>let </span><span>callback</span><span>:</span><span> </span><span>StreamCallback</span><span> </span><span>&amp;</span><span> </span><span>HumanCallback</span><span> = {</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>onMessage</span><span>: async </span><span>(</span><span>message</span><span>:</span><span> </span><span><span>StreamCallbackMessage</span><span>)</span></span><span> =&gt; {</span></p></div><div bis_skin_checked="1"><p><span>    </span><span>// Wait for stream done and do something important ...</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>if</span><span>(message</span><span>.</span><span>streamDone</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span><span>      </span></span><span>switch</span><span>(message</span><span>.</span><span>type</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>case </span><span>"</span><span>workflow</span><span>"</span><span>:</span></p></div><div bis_skin_checked="1"><p><span>          </span><span>// Emitted when a workflow is generating or updating.</span></p></div><div bis_skin_checked="1"><p><span><span>          </span></span><span>break;</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>case </span><span>"</span><span>text</span><span>"</span><span>:</span></p></div><div bis_skin_checked="1"><p><span>          </span><span>// Emitted for streaming text output from the agent or LLM.</span></p></div><div bis_skin_checked="1"><p><span><span>          </span></span><span>break;</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>case </span><span>"</span><span>tool_streaming</span><span>"</span><span>:</span></p></div><div bis_skin_checked="1"><p><span>          </span><span>// Emitted for streaming tool call.</span></p></div><div bis_skin_checked="1"><p><span><span>          </span></span><span>break;</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>case </span><span>"</span><span>tool_use</span><span>"</span><span>:</span></p></div><div bis_skin_checked="1"><p><span>          </span><span>// Emitted before a tool is executed, includes tool name and parameters.</span></p></div><div bis_skin_checked="1"><p><span><span>          </span></span><span>break;</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>case </span><span>"</span><span>tool_result</span><span>"</span><span>:</span></p></div><div bis_skin_checked="1"><p><span>          </span><span>// Emitted after a tool finishes execution, includes the result.</span></p></div><div bis_skin_checked="1"><p><span><span>          </span></span><span>break;</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>case </span><span>"</span><span>...</span><span>"</span><span>:</span></p></div><div bis_skin_checked="1"><p><span>          </span><span>// Other events.</span></p></div><div bis_skin_checked="1"><p><span><span>          </span></span><span>break;</span></p></div><div bis_skin_checked="1"><p><span><span>      </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span>}</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>let </span><span>eko</span><span> = </span><span>new</span><span> </span><span>Eko</span><span>(</span><span>{ </span><span>llms</span><span>, </span><span>agents</span><span>, </span><span>callback</span><span> }</span><span>);</span></p></div>
```

#### Intervene in the input and output of the tools called by the model

```
<div bis_skin_checked="1"><p><span>// navigate_to tool definition</span></p></div><div bis_skin_checked="1"><p><span>{</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>name: </span><span>"</span><span>navigate_to</span><span>"</span><span>,</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>description: </span><span>"</span><span>Navigate to a specific url</span><span>"</span><span>,</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>parameters: {</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>type: </span><span>"</span><span>object</span><span>"</span><span>,</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>properties: {</span></p></div><div bis_skin_checked="1"><p><span><span>      </span></span><span>url: {</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>type: </span><span>"</span><span>string</span><span>"</span><span>,</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>description: </span><span>"</span><span>The url to navigate to</span><span>"</span><span>,</span></p></div><div bis_skin_checked="1"><p><span><span>      </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>required: [</span><span>"</span><span>url</span><span>"</span><span>],</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span>}</span></p></div><div bis_skin_checked="1"><p><span>// Intervene in the input and output of the tools called by the model</span></p></div><div bis_skin_checked="1"><p><span>let </span><span>callback</span><span>:</span><span> </span><span>StreamCallback</span><span> = {</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>onMessage</span><span>: async </span><span>(</span><span>message</span><span>:</span><span> </span><span><span>StreamCallbackMessage</span><span>)</span></span><span> =&gt; {</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>switch</span><span>(message</span><span>.</span><span>type</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span><span>      </span></span><span>case </span><span>"</span><span>tool_use</span><span>"</span><span>:</span></p></div><div bis_skin_checked="1"><p><span>        </span><span>// Intervene in the input</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>if </span><span>(message</span><span>.</span><span>agentName</span><span> == </span><span>"</span><span>Browser</span><span>"</span><span> &amp;&amp; </span><span>message</span><span>.</span><span>toolName</span><span> == </span><span>"</span><span>navigate_to</span><span>"</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span>          </span><span>// Modify the return result of the navigate_to tool, in this case, change "twitter" to "x".</span></p></div><div bis_skin_checked="1"><p><span>          </span><span>// The URL parameter in message.params.url is defined in the `properties` parameter of the navigate_to tool.</span></p></div><div bis_skin_checked="1"><p><span><span>          </span></span><span>if </span><span>(message</span><span>.</span><span>params</span><span>.</span><span>url</span><span> == </span><span>"</span><span>https://twitter.com</span><span>"</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span>            </span><span>message</span><span>.</span><span>params</span><span>.</span><span>url</span><span> = </span><span>"</span><span>https://x.com</span><span>"</span><span>;</span></p></div><div bis_skin_checked="1"><p><span><span>          </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>break;</span></p></div><div bis_skin_checked="1"><p><span><span>      </span></span><span>case </span><span>"</span><span>tool_result</span><span>"</span><span>:</span></p></div><div bis_skin_checked="1"><p><span>        </span><span>// Intervene in the output</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>if </span><span>(message</span><span>.</span><span>agentName</span><span> == </span><span>"</span><span>File</span><span>"</span><span> &amp;&amp; </span><span>message</span><span>.</span><span>toolName</span><span> == </span><span>"</span><span>file_read</span><span>"</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span><span>          </span></span><span>if </span><span>(message</span><span>.</span><span>params</span><span>.</span><span>path</span><span> == </span><span>"</span><span>/account.md</span><span>"</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span><span>            </span></span><span>let </span><span>content</span><span> = </span><span>message</span><span>.</span><span>toolResult</span><span>.</span><span>content</span><span>;</span></p></div><div bis_skin_checked="1"><p><span><span>            </span></span><span>if </span><span>(content[</span><span>0</span><span>]</span><span>.</span><span>type</span><span> == </span><span>"</span><span>text</span><span>"</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span>              </span><span>// Filter sensitive information through intervention in the output.</span></p></div><div bis_skin_checked="1"><p><span>              </span><span>content[</span><span>0</span><span>]</span><span>.</span><span>text</span><span> = </span><span>content[</span><span>0</span><span>]</span><span>.</span><span>text</span><span>.</span><span>replace</span><span>(</span><span>"</span><span>This is password</span><span>"</span><span>, </span><span>"</span><span>********</span><span>"</span><span>)</span><span>;</span></p></div><div bis_skin_checked="1"><p><span><span>            </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span><span>          </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span><span>        </span></span><span>break;</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span>}</span><span>;</span></p></div>
```

### Human Callbacks

Human callbacks enable human-in-the-loop interaction, allowing the workflow to pause and request user input or confirmation.

**Available human callbacks and their timing:**

-   `onHumanConfirm(context, prompt)`: Called when the workflow requires confirmation for a potentially dangerous or important action (e.g., deleting files).
-   `onHumanInput(context, prompt)`: Called when the workflow needs free-form user input (e.g., entering a email title or filling a form).
-   `onHumanSelect(context, prompt, options, multiple)`: Called when the workflow needs the user to select from a list of options (single or multiple choice).
-   `onHumanHelp(context, helpType, prompt)`: Called when the workflow requests human assistance for a specific help type (e.g., login, troubleshooting).

See [`HumanCallback`](https://fellou.ai/eko/docs/api/interfaces/HumanCallback.html) for the full interface.

#### HumanInteractTool

The Human Callbacks are triggered by the HumanInteractTool, and the prompt is defined as follows:

```
<div bis_skin_checked="1"><p><span>AI interacts with humans:</span></p></div><div bis_skin_checked="1"><p><span>confirm: Ask the user to confirm whether to execute an operation, especially when performing dangerous actions such as deleting system files.</span></p></div><div bis_skin_checked="1"><p><span>input: Prompt the user to enter text; for example, when a task is ambiguous, the AI can choose to ask the user for details, and the user can respond by inputting.</span></p></div><div bis_skin_checked="1"><p><span>select: Allow the user to make a choice; in situations that require selection, the AI can ask the user to make a decision.</span></p></div><div bis_skin_checked="1"><p><span>request_help: Request assistance from the user; for instance, when an operation is blocked, the AI can ask the user for help, such as needing to log into a website or solve a CAPTCHA.</span></p></div>
```

#### Usage

```
<div bis_skin_checked="1"><p><span>import</span><span> { Eko, LLMs, StreamCallbackMessage } </span><span>from</span><span> </span><span>"</span><span>@eko-ai/eko</span><span>"</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>import</span><span> { StreamCallback, HumanCallback } </span><span>from</span><span> </span><span>"</span><span>@eko-ai/eko/types</span><span>"</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>let </span><span>callback</span><span>:</span><span> </span><span>StreamCallback</span><span> </span><span>&amp;</span><span> </span><span>HumanCallback</span><span> = {</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>onHumanConfirm</span><span>: async </span><span>(</span><span>message</span><span>:</span><span> </span><span><span>StreamCallbackMessage</span><span>)</span></span><span> =&gt; {</span></p></div><div bis_skin_checked="1"><p><span>    </span><span>// Wait for stream done and do something important ...</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>return </span><span>confirm</span><span>(prompt)</span><span>;</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>onHumanInput</span><span>: async </span><span>(</span><span>message</span><span>:</span><span> </span><span><span>StreamCallbackMessage</span><span>)</span></span><span> =&gt; {</span></p></div><div bis_skin_checked="1"><p><span>    </span><span>// Wait for stream done and do something important ...</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>onHumanSelect</span><span>: async </span><span>(</span><span>message</span><span>:</span><span> </span><span><span>StreamCallbackMessage</span><span>)</span></span><span> =&gt; {</span></p></div><div bis_skin_checked="1"><p><span>    </span><span>// Wait for stream done and do something important ...</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>onHumanHelp</span><span>: async </span><span>(</span><span>message</span><span>:</span><span> </span><span><span>StreamCallbackMessage</span><span>)</span></span><span> =&gt; {</span></p></div><div bis_skin_checked="1"><p><span>    </span><span>// Wait for stream done and do something important ...</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span>}</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>let </span><span>eko</span><span> = </span><span>new</span><span> </span><span>Eko</span><span>(</span><span>{ </span><span>llms</span><span>, </span><span>agents</span><span>, </span><span>callback</span><span> }</span><span>);</span></p></div>
```

## Callbacks use case

This example uses `onMessage` to log the workflow, large language model responses, and tool invocation parameters to the log, and it also implements the `onHumanConfirm` interface to allow users to confirm certain operations:

```
<div bis_skin_checked="1"><p><span>import</span><span> { Eko, LLMs, StreamCallbackMessage } </span><span>from</span><span> </span><span>"</span><span>@eko-ai/eko</span><span>"</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>import</span><span> { StreamCallback, HumanCallback } </span><span>from</span><span> </span><span>"</span><span>@eko-ai/eko/types</span><span>"</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>function</span><span> </span><span>printLog</span><span>(</span><span>message</span><span>:</span><span> </span><span>string</span><span><span>, </span><span>level</span></span><span>?:</span><span> </span><span>"</span><span>info</span><span>"</span><span> </span><span>|</span><span> </span><span>"</span><span>success</span><span>"</span><span> </span><span>|</span><span> </span><span>"</span><span>error</span><span>"</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>/* e.g. console.log(message); */</span></p></div><div bis_skin_checked="1"><p><span>}</span></p></div><div bis_skin_checked="1"><p><span>let </span><span>callback</span><span>:</span><span> </span><span>StreamCallback</span><span> </span><span>&amp;</span><span> </span><span>HumanCallback</span><span> = {</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>onMessage</span><span>: async </span><span>(</span><span>message</span><span>:</span><span> </span><span><span>StreamCallbackMessage</span><span>)</span></span><span> =&gt; {</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>if </span><span>(message</span><span>.</span><span>type</span><span> == </span><span>"</span><span>workflow</span><span>"</span><span> &amp;&amp; </span><span>message</span><span>.</span><span>streamDone</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span>      </span><span>printLog</span><span>(</span><span>"</span><span>Plan</span><span>\n</span><span>"</span><span> + </span><span>message</span><span>.</span><span>workflow</span><span>.</span><span>xml</span><span>)</span><span>;</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>} else if </span><span>(message</span><span>.</span><span>type</span><span> == </span><span>"</span><span>text</span><span>"</span><span> &amp;&amp; </span><span>message</span><span>.</span><span>streamDone</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span>      </span><span>printLog</span><span>(message</span><span>.</span><span>text</span><span>)</span><span>;</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>} else if </span><span>(message</span><span>.</span><span>type</span><span> == </span><span>"</span><span>tool_use</span><span>"</span><span>)</span><span> {</span></p></div><div bis_skin_checked="1"><p><span>      </span><span>printLog</span><span>(</span></p></div><div bis_skin_checked="1"><p><span>        </span><span>`</span><span>${</span><span>message</span><span>.</span><span>agentName</span><span>}</span><span> &gt; </span><span>${</span><span>message</span><span>.</span><span>toolName</span><span>}</span><span>\n</span><span>${</span><span>JSON</span><span>.</span><span>stringify</span><span>(</span></p></div><div bis_skin_checked="1"><p><span>          </span><span>message</span><span>.</span><span>params</span></p></div><div bis_skin_checked="1"><p><span>        </span><span>)</span><span>}</span><span>`</span></p></div><div bis_skin_checked="1"><p><span>      </span><span>)</span><span>;</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>}</span></p></div><div bis_skin_checked="1"><p><span>    </span><span>console</span><span>.</span><span>log</span><span>(</span><span>"</span><span>message: </span><span>"</span><span>, </span><span>JSON</span><span>.</span><span>stringify</span><span>(message</span><span>, </span><span>null</span><span>, </span><span>2</span><span>))</span><span>;</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span>  </span><span>onHumanConfirm</span><span>: async </span><span>(</span><span>context</span><span>, </span><span>prompt</span><span>)</span><span> =&gt; {</span></p></div><div bis_skin_checked="1"><p><span>    </span><span>/* showing prompt to user, user will confirm it or refuse it*/</span></p></div><div bis_skin_checked="1"><p><span><span>    </span></span><span>return </span><span>/* ture if confirmed, false if refused*/</span><span>;</span></p></div><div bis_skin_checked="1"><p><span><span>  </span></span><span>},</span></p></div><div bis_skin_checked="1"><p><span>}</span><span>;</span></p></div><div bis_skin_checked="1"><p><span>let </span><span>eko</span><span> = </span><span>new</span><span> </span><span>Eko</span><span>(</span><span>{ </span><span>llms</span><span>, </span><span>agents</span><span>, </span><span>callback</span><span> }</span><span>);</span></p></div>
```

## Callback Types

According to the communication methods, callbacks can be divided into two categories:

-   **Single Direction**: Can only read values, suitable for logging and monitoring scenarios (e.g., streaming updates about workflow progress, tool usage, and results).
-   **Double Direction (aka. Hooks)**: Can both read and modify values, which can be understood as middleware, suitable for highly customized scenarios (e.g., intercepting and modifying tool inputs/outputs, or workflow node execution).

Based on the way they are invoked, callbacks can be divided into two categories:

-   **Once Invocation**: Conventional callbacks that are called only once at the appropriate time, such as `tool_result`.
-   **Streaming Invocation**: These are called multiple times over a period, each time returning the complete data available at that moment, such as `workflow`.
